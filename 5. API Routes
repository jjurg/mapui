# routes/api_routes.py
from flask import Blueprint, jsonify, request
from models.geo_data import db, ShapeData, LocationData

api_bp = Blueprint('api', __name__)

@api_bp.route('/shapes/<country>')
def get_country_shapes(country):
    shapes = ShapeData.query.filter_by(country=country).all()
    return jsonify([shape.to_dict() for shape in shapes])

@api_bp.route('/locations/<collection_id>')
def get_locations(collection_id):
    locations = LocationData.query.filter_by(collection_id=collection_id).all()
    return jsonify([location.to_dict() for location in locations])

@api_bp.route('/arcgis-proxy/<path:endpoint>')
def arcgis_proxy(endpoint):
    # Implement ARCGIS proxy logic here
    pass
